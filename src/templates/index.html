<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Survey Form (Resume)</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <!-- Language Selector -->
        <div class="language-selector">
            <select id="languageSelect">
                <option value="ja">日本語</option>
                <option value="en">English</option>
                <option value="mn">Монгол</option>
                <option value="vi">Tiếng Việt</option>
            </select>
        </div>

        <form id="recruitmentForm" enctype="multipart/form-data">
            <!-- Declaration -->
            <section class="form-section declaration">
                <div class="consent-text">
                    <p data-ja="この個人調査の内容に嘘や誤りがないことを確認します。">
                        この個人調査の内容に嘘や誤りがないことを確認します。
                    </p>
                    <p data-ja="虚偽が発覚した場合はいかなる処分も受け入れます。">
                        虚偽が発覚した場合はいかなる処分も受け入れます。
                    </p>
                </div>
                <div class="consent-checkbox">
                    <input type="checkbox" id="consent" required>
                    <label for="consent">同意する</label>
                </div>
            </section>

            <!-- Basic Information -->
            <section class="form-section">
                <h2>基本情報</h2>
                
                <!-- Name Fields -->
                <div class="name-fields">
                    <div class="form-group">
                        <label>姓名（ローマ字） *</label>
                        <div class="name-input">
                            <input type="text" name="surname_romaji" placeholder="姓" required>
                            <input type="text" name="givenname_romaji" placeholder="名" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>姓名（フリガナ） *</label>
                        <div class="name-input">
                            <input type="text" name="surname_kana" placeholder="セイ" required>
                            <input type="text" name="givenname_kana" placeholder="メイ" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>生年月日 *</label>
                    <input type="date" name="birthdate" required>
                </div>

                <div class="form-group">
                    <label>年齢 *</label>
                    <input type="number" name="age" required min="16" max="100">
                </div>

                <div class="form-group">
                    <label>性別 *</label>
                    <select name="gender" required>
                        <option value="">選択してください</option>
                        <option value="male">男性</option>
                        <option value="female">女性</option>
                        <option value="other">その他</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>家族構成</label>
                    <textarea name="family_structure" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>国籍 *</label>
                    <input type="text" name="nationality" required>
                </div>

                <div class="form-group">
                    <label>最寄駅</label>
                    <input type="text" name="nearest_station">
                </div>

                <div class="form-group">
                    <label>現住所 *</label>
                    <input type="text" name="postal_code" placeholder="〒" required>
                    <textarea name="current_address" required rows="3"></textarea>
                </div>
            </section>

            <!-- Contact Information -->
            <section class="form-section">
                <h2>連絡先情報</h2>
                
                <div class="form-group">
                    <label>携帯電話 *</label>
                    <input type="tel" name="mobile_phone" required>
                </div>

                <div class="form-group">
                    <label>メールアドレス *</label>
                    <input type="email" name="email" required>
                </div>

                <div class="form-group">
                    <label>Facebook</label>
                    <input type="text" name="facebook">
                </div>

                <div class="form-group">
                    <label>LINE</label>
                    <input type="text" name="line">
                </div>

                <div class="form-group">
                    <label>ページ名</label>
                    <input type="text" name="page_name">
                </div>
            </section>

            <!-- Interview Availability -->
            <section class="form-section">
                <h2>面接希望日時</h2>
                
                <div class="form-group">
                    <label>第一希望 *</label>
                    <input type="datetime-local" name="interview_1st_choice" required>
                </div>

                <div class="form-group">
                    <label>第二希望</label>
                    <input type="datetime-local" name="interview_2nd_choice">
                </div>

                <div class="form-group">
                    <label>第三希望</label>
                    <input type="datetime-local" name="interview_3rd_choice">
                </div>

                <div class="form-group">
                    <label>退職予定日</label>
                    <input type="date" name="expected_resignation_date">
                </div>

                <div class="form-group">
                    <label>転職希望日</label>
                    <input type="date" name="expected_job_change_date">
                </div>

                <div class="form-group">
                    <label>技能実習時の月給</label>
                    <input type="number" name="intern_monthly_salary" placeholder="円">
                </div>
            </section>
                        <!-- Education -->
                        <section class="form-section">
                            <h2>学歴</h2>
                            <div class="education-entry">
                                <div class="form-group">
                                    <label>入学年月日 *</label>
                                    <input type="date" name="education_start_date[]" required>
                                </div>
                                <div class="form-group">
                                    <label>卒業年月日 *</label>
                                    <input type="date" name="education_end_date[]" required>
                                </div>
                                <div class="form-group">
                                    <label>学校名 *</label>
                                    <input type="text" name="school_name[]" required>
                                </div>
                                <div class="form-group">
                                    <label>学部・学科</label>
                                    <input type="text" name="department[]">
                                </div>
                            </div>
                            <button type="button" class="add-more-btn" data-target="education">＋ 学歴を追加</button>
                        </section>
            
                        <!-- Employment History -->
                        <section class="form-section">
                            <h2>職歴</h2>
                            <div class="employment-entry">
                                <div class="form-group">
                                    <label>入社年月日</label>
                                    <input type="date" name="employment_start_date[]">
                                </div>
                                <div class="form-group">
                                    <label>退職年月日</label>
                                    <input type="date" name="employment_end_date[]">
                                </div>
                                <div class="form-group">
                                    <label>会社名</label>
                                    <input type="text" name="company_name[]">
                                </div>
                                <div class="form-group">
                                    <label>職務内容・退職理由</label>
                                    <textarea name="job_description[]" rows="3"></textarea>
                                </div>
                            </div>
                            <button type="button" class="add-more-btn" data-target="employment">＋ 職歴を追加</button>
                        </section>
            
                        <!-- Qualifications -->
                        <section class="form-section">
                            <h2>資格</h2>
                            <div class="qualification-entry">
                                <div class="form-group">
                                    <label>資格・免許</label>
                                    <input type="text" name="qualification_name[]">
                                </div>
                                <div class="form-group">
                                    <label>詳細</label>
                                    <textarea name="qualification_details[]" rows="2"></textarea>
                                </div>
                            </div>
                            <button type="button" class="add-more-btn" data-target="qualification">＋ 資格を追加</button>
            
                            <!-- Driver's License Section -->
                            <div class="license-section">
                                <div class="form-group">
                                    <label>日本の運転免許（AT） *</label>
                                    <div class="radio-group">
                                        <input type="radio" name="jp_license" value="yes" id="jp_license_yes">
                                        <label for="jp_license_yes">有</label>
                                        <input type="radio" name="jp_license" value="no" id="jp_license_no">
                                        <label for="jp_license_no">無</label>
                                    </div>
                                </div>
            
                                <div class="form-group">
                                    <label>母国の運転免許 *</label>
                                    <div class="radio-group">
                                        <input type="radio" name="home_license" value="yes" id="home_license_yes">
                                        <label for="home_license_yes">有</label>
                                        <input type="radio" name="home_license" value="no" id="home_license_no">
                                        <label for="home_license_no">無</label>
                                    </div>
                                </div>
            
                                <div class="form-group">
                                    <label>ベトナムの運転免許</label>
                                    <div class="radio-group">
                                        <input type="radio" name="vn_license" value="yes" id="vn_license_yes">
                                        <label for="vn_license_yes">有</label>
                                        <input type="radio" name="vn_license" value="no" id="vn_license_no">
                                        <label for="vn_license_no">無</label>
                                    </div>
                                </div>
            
                                <div class="form-group">
                                    <label>日本語能力 *</label>
                                    <select name="japanese_level" required>
                                        <option value="">選択してください</option>
                                        <option value="n1">N1</option>
                                        <option value="n2">N2</option>
                                        <option value="n3">N3</option>
                                        <option value="n4">N4</option>
                                        <option value="n5">N5</option>
                                        <option value="none">なし</option>
                                    </select>
                                </div>
                            </div>
                        </section>
            
                        <!-- Residence Status -->
                        <section class="form-section">
                            <h2>在留資格</h2>
                            <div class="form-group">
                                <label>在留資格の種類 *</label>
                                <input type="text" name="residence_status" required>
                            </div>
                            <div class="form-group">
                                <label>在留期限 *</label>
                                <input type="date" name="residence_expiry" required>
                            </div>
                        </section>
            
                        <!-- Technical Intern History -->
                        <section class="form-section">
                            <h2>技能実習生としての日本滞在歴</h2>
                            <div class="intern-history-entry">
                                <div class="form-group">
                                    <label>年</label>
                                    <input type="number" name="intern_year[]">
                                </div>
                                <div class="form-group">
                                    <label>月</label>
                                    <input type="number" name="intern_month[]" min="1" max="12">
                                </div>
                                <div class="form-group">
                                    <label>在留資格</label>
                                    <input type="text" name="intern_status[]">
                                </div>
                                <div class="form-group">
                                    <label>実習実施機関</label>
                                    <input type="text" name="intern_organization[]">
                                </div>
                                <div class="form-group">
                                    <label>監理団体</label>
                                    <input type="text" name="managing_organization[]">
                                </div>
                            </div>
                            <button type="button" class="add-more-btn" data-target="intern">＋ 実習歴を追加</button>
                        </section>
                                    <!-- Family Information -->
            <section class="form-section">
                <h2>日本在住の親族</h2>
                <div class="form-group">
                    <label>日本在住の親族 *</label>
                    <div class="radio-group">
                        <input type="radio" name="has_relatives" value="yes" id="relatives_yes">
                        <label for="relatives_yes">有</label>
                        <input type="radio" name="has_relatives" value="no" id="relatives_no">
                        <label for="relatives_no">無</label>
                    </div>
                </div>

                <div id="relatives-details" class="conditional-section">
                    <div class="form-group">
                        <label>同居の有無</label>
                        <div class="radio-group">
                            <input type="radio" name="living_together" value="yes" id="living_yes">
                            <label for="living_yes">有</label>
                            <input type="radio" name="living_together" value="no" id="living_no">
                            <label for="living_no">無</label>
                        </div>
                    </div>
                    <div class="relative-entry">
                        <div class="form-group">
                            <label>続柄</label>
                            <input type="text" name="relative_relationship[]">
                        </div>
                        <div class="form-group">
                            <label>氏名</label>
                            <input type="text" name="relative_name[]">
                        </div>
                        <div class="form-group">
                            <label>生年月日</label>
                            <input type="date" name="relative_birthdate[]">
                        </div>
                        <div class="form-group">
                            <label>勤務先・学校名</label>
                            <input type="text" name="relative_workplace[]">
                        </div>
                    </div>
                    <button type="button" class="add-more-btn" data-target="relative">＋ 親族を追加</button>
                </div>
            </section>

            <!-- Emergency Contact -->
            <section class="form-section">
                <h2>母国の緊急連絡先</h2>
                <div class="form-group">
                    <label>続柄 *</label>
                    <input type="text" name="emergency_relationship" required>
                </div>
                <div class="form-group">
                    <label>氏名 *</label>
                    <input type="text" name="emergency_name" required>
                </div>
                <div class="form-group">
                    <label>住所 *</label>
                    <textarea name="emergency_address" required rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>電話番号 *</label>
                    <input type="tel" name="emergency_phone" required>
                </div>
            </section>

            <!-- Health Information -->
            <section class="form-section">
                <h2>健康状態</h2>
                <div class="form-group">
                    <label>怪我、病気、手術の経験 *</label>
                    <div class="radio-group">
                        <input type="radio" name="has_medical_history" value="yes" id="medical_yes">
                        <label for="medical_yes">有</label>
                        <input type="radio" name="has_medical_history" value="no" id="medical_no">
                        <label for="medical_no">無</label>
                    </div>
                </div>
                <div id="medical-details" class="conditional-section">
                    <div class="form-group">
                        <label>状態（怪我、病院、手術）</label>
                        <textarea name="medical_details" rows="3"></textarea>
                    </div>
                </div>

                <!-- Allergies -->
                <div class="allergy-section">
                    <h3>アレルギー</h3>
                    <p class="note">命に関わる可能性があるため、正直にお答えください。<br>
                        アレルギーの有無は選考に影響しません。</p>
                    
                    <div class="form-group">
                        <label>アレルギー *</label>
                        <div class="checkbox-group">
                            <input type="checkbox" name="allergy_none" id="allergy_none" value="none">
                            <label for="allergy_none">なし</label>
                            <input type="checkbox" name="allergy_medicine" id="allergy_medicine" value="medicine">
                            <label for="allergy_medicine">薬</label>
                            <input type="checkbox" name="allergy_food" id="allergy_food" value="food">
                            <label for="allergy_food">食べ物</label>
                            <input type="checkbox" name="allergy_metal" id="allergy_metal" value="metal">
                            <label for="allergy_metal">金属</label>
                            <input type="checkbox" name="allergy_plant" id="allergy_plant" value="plant">
                            <label for="allergy_plant">植物</label>
                            <input type="checkbox" name="allergy_other" id="allergy_other" value="other">
                            <label for="allergy_other">その他</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>アレルギー名</label>
                        <textarea name="allergy_details" rows="3"></textarea>
                    </div>
                </div>
            </section>

            <!-- Other Information -->
            <section class="form-section">
                <h2>その他</h2>
                <div class="form-group">
                    <label>喫煙 *</label>
                    <div class="radio-group">
                        <input type="radio" name="smoking" value="yes" id="smoking_yes">
                        <label for="smoking_yes">有</label>
                        <input type="radio" name="smoking" value="no" id="smoking_no">
                        <label for="smoking_no">無</label>
                    </div>
                    <div id="smoking-amount" class="conditional-section">
                        <label>1日の本数</label>
                        <input type="number" name="smoking_amount" min="1">
                    </div>
                </div>

                <div class="form-group">
                    <label>飲酒 *</label>
                    <div class="radio-group">
                        <input type="radio" name="drinking" value="yes" id="drinking_yes">
                        <label for="drinking_yes">有</label>
                        <input type="radio" name="drinking" value="no" id="drinking_no">
                        <label for="drinking_no">無</label>
                        <input type="radio" name="drinking" value="sometimes" id="drinking_sometimes">
                        <label for="drinking_sometimes">少し</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>自転車の運転 *</label>
                    <div class="radio-group">
                        <input type="radio" name="can_ride_bicycle" value="yes" id="bicycle_yes">
                        <label for="bicycle_yes">可</label>
                        <input type="radio" name="can_ride_bicycle" value="no" id="bicycle_no">
                        <label for="bicycle_no">不可</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>自己PR・趣味・特技</label>
                    <textarea name="self_pr" rows="5"></textarea>
                </div>
            </section>

            <!-- Physical Information -->
            <section class="form-section">
                <h2>身体情報</h2>
                <div class="form-group">
                    <label>身長 (cm)</label>
                    <input type="number" name="height" min="100" max="250">
                </div>
                <div class="form-group">
                    <label>体重 (kg)</label>
                    <input type="number" name="weight" min="30" max="200">
                </div>
                <div class="form-group">
                    <label>靴のサイズ (cm)</label>
                    <input type="number" name="shoe_size" step="0.5">
                </div>
                <div class="form-group">
                    <label>服のサイズ</label>
                    <select name="clothing_size">
                        <option value="">選択してください</option>
                        <option value="xs">XS</option>
                        <option value="s">S</option>
                        <option value="m">M</option>
                        <option value="l">L</option>
                        <option value="xl">XL</option>
                        <option value="xxl">XXL</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>血液型</label>
                    <select name="blood_type">
                        <option value="">選択してください</option>
                        <option value="a">A</option>
                        <option value="b">B</option>
                        <option value="o">O</option>
                        <option value="ab">AB</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>上着のサイズ</label>
                    <input type="text" name="upper_size">
                </div>
                <div class="form-group">
                    <label>下着のサイズ</label>
                    <input type="text" name="lower_size">
                </div>
                <div class="form-group">
                    <label>ウエスト</label>
                    <input type="text" name="waist_size">
                </div>
                <div class="form-group">
                    <label>備考</label>
                    <textarea name="remarks" rows="3"></textarea>
                </div>
            </section>

            <!-- Created Date -->
            <section class="form-section">
                <div class="form-group">
                    <label>作成日</label>
                    <input type="date" name="created_date" value="{{ today_date }}" readonly>
                </div>
            </section>

            <!-- Submit Button -->
            <section class="form-section submit-section">
                <button type="submit" class="submit-btn">送信</button>
            </section>
        </form>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <h2>確認</h2>
            <div id="reviewContent"></div>
            <div class="modal-buttons">
                <button id="confirmSubmit">確定</button>
                <button id="cancelSubmit">キャンセル</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>